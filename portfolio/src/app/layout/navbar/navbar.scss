.navbar {
  position: sticky;
  top: 0;
  z-index: 100;
  backdrop-filter: blur(10px);
  background: color-mix(in srgb, var(--surface) 84%, transparent);
  border-bottom: 1px solid var(--border);
}

.inner {
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: .75rem;
  padding: .65rem 0;
}

.brand {
  display:flex;
  align-items:center;
  gap:.55rem; text-decoration:none;
  color:inherit;
  font-weight:700;
  letter-spacing:.2px;
}
.brand .logo {
  width:.9rem;
  height:.9rem;
  display:inline-grid;
  place-items:center;
  color: var(--primary);
}

.links {
  display:flex;
  gap: .9rem;
}
.links a {
  text-decoration:none;
  color: var(--muted);
  font-weight:600;
  padding:.4rem .55rem;
  border-radius: 8px;
}
.links a:hover { color: var(--text);
  background: var(--surface-2);
}
.links a.active { color: var(--text);
  background: color-mix(in srgb, var(--surface-2) 60%, transparent); }

.theme-toggle { 
  border:1px solid var(--border);
  background: var(--surface);
  color: var(--text);
  border-radius: 999px;
  padding:.35rem .55rem;
  cursor:pointer;
  display:inline-flex;
  align-items:center;
  gap:.35rem;
  box-shadow: var(--shadow-sm);
  position: relative;
}
.theme-toggle:hover { box-shadow: var(--shadow-md); }

/* Icônes animées */
.theme-toggle .sun,
.theme-toggle .moon {
  transition: opacity .25s ease, transform .25s ease;
  will-change: opacity, transform;
}
.theme-toggle .sun {
  opacity: 1;
  transform: rotate(0) scale(1);
}
.theme-toggle .moon {
  opacity: 0;
  transform: rotate(90deg) scale(.8);
}

/* En sombre: inverse */
:host-context([data-theme='dark']) .theme-toggle .sun {
  opacity: 0;
  transform: rotate(-90deg) scale(.8);
}
:host-context([data-theme='dark']) .theme-toggle .moon {
  opacity: 1;
  transform: rotate(0) scale(1);
}

/* Transition douce des couleurs dans tout le composant pendant le switch */
:host-context(.theme-transition) * {
  transition: background-color .25s ease, color .25s ease, border-color .25s ease, fill .25s ease, stroke .25s ease;
}

/* Respecte la réduction de mouvement */
@media (prefers-reduced-motion: reduce) {
  :host-context(.theme-transition) * { transition: none !important; }
  .theme-toggle .sun, .theme-toggle .moon { transition: none !important; }
}

@media (max-width: 720px) {
  .links { gap: .5rem; }
  .links a { padding:.35rem .45rem; }
}
